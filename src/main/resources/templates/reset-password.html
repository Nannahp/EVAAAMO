<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log ind</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

<!-- Vue App Root -->
<div id="app">


    <!-- Form Component with Title -->
    <form-component title="Log ind" th:action="@{/reset-password/admin}" method="post" >

        <!-- Email Input -->
        <basic-input-component
                label="Email*"
                name="currentEmail"
                v-model="currentEmail"
                type="email"
                placeholder="mail@mail.com"
                required
        ></basic-input-component>

        <!-- Password Input -->
        <basic-input-component
                label="Nyt kodeord*"
                name="newPassword"
                v-model="newPassword"
                type="password"
                placeholder="******"
                required
        ></basic-input-component>

        <!-- Password Input -->
        <basic-input-component
                label="Gentag nyt kodeord*"
                name="repeatedPassword"
                v-model="repeatedPassword"
                type="password"
                placeholder="******"
                required
        ></basic-input-component>

        <!-- Error Handling with Thymeleaf -->
        <div th:if="${message}" class="text-red-500 text-sm mt-2">
            <p th:text="${message}"></p>
        </div>

        <!-- Submit Button -->
        <form-button-component>Gem nyt kodeord</form-button-component>
    </form-component>
</div>

<!-- Load Vue.js first -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- Main JavaScript with global components -->
<script type="module" src="/components/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


<script type="module">
    import FormComponent from '/components/FormComponent.js';
    import BasicInputComponent from '/components/BasicInputComponent.js';
    import FormButtonComponent from '/components/FormButtonComponent.js';

    new Vue({
        el: '#app',
        components: {
            'form-component': FormComponent,
            'basic-input-component': BasicInputComponent,
            'form-button-component': FormButtonComponent,
        },
        data: {
            currentEmail: '',
            newPassword: '',
            repeatedPassword: '',
        },

    });
</script>
</body>
</html>
